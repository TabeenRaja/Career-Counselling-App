<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personality Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="career.css" rel="stylesheet">
    <script src="PersonalityTest.js" defer ></script>
</head>

<body>
    <!-- Header Section -->
     <header>
        <div class="mainLogo" onclick="window.location.href='main.html'">
            <div class="Hicon" style="margin-left: 20px;"><i class="fas fa-compass"></i></div>
            <h2 >PathFinder</h2>
        </div>
<div class="home" onclick="window.location.href='main.html'">Home</div>
        <div class="navbar">
            <ul>
                <li>
                    <a href="#" id="dropdownToggle">Services Offered â–¾</a>
                    <ul class="dropdown-menu" id="dropdownMenu">
                        <li><a href="test.html" >Career Assessment Test</a></li>
                        <li><a href="explorer.html">Career Explorer</a></li>
                        <li><a href="blogs.html">Blogs & Articles</a></li>
                        <li><a href="inspiration.html">Inspiration Hub</a></li>
                        <li><a href="PersonalityTest.html">Personality Test</a></li>
                        <li><a href="resume.html">Resume Builder</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#" id="themesToggle">Themes â–¾</a>
                    <ul class="dropdown-menu" id="themesMenu">
                        <li><a href="#" data-theme="light"><i class="fas fa-sun"></i> Light Theme</a></li>
                        <li><a href="#" data-theme="dark"><i class="fas fa-moon"></i> Dark Theme</a></li>
                        <li><a href="#" data-theme="invert"><i class="fas fa-adjust"></i>Invert Color</a></li>
                        <li><a href="#" data-theme="reading"><i class="fas fa-book-open"></i> Blue Filter</a></li>
                    </ul>
                </li>
              
            </ul>
        </div>

        <div class="header-actions">
            <div class="AboutUs" onclick="window.location.href='aboutus.html'">About Us</div>
            <div class="ContactUs" onclick="window.location.href='contactus.html'">Contact Us</div>

            <button class="icon-button" id="textSizeToggle" title="Adjust Text Size">
                <i class="fas fa-text-height"></i>
            </button>
        </div>
            <div class="profile-dropdown" id="profileDropdown">
                    <button class="profile-btn" id="profileBtn">
                        <span class="profile-icon">ðŸ‘¤</span>
                    </button>
                      
                    <div class="dropdown-menu2" id="dropdownMenu2">
                        <div class="user-info">
                            <div class="user-name" id="userName"></div>
                            <div class="user-email" id="userEmail"></div>
                        </div>
                        <div class="dropdown-divider"></div>
                        <button class="dropdown-item" id="logoutBtn">ðŸšª Log Out</button>
                        <button class="dropdown-item" id="switchAccountBtn">ðŸ”„ Sign in with another account</button>
                    </div>
                </div>

    </header>
    <!-- Main Content Section -->
    <main>
        <div class="welcomeMess">
            <h1 style="color: white; font-size: 45px;">Personality Assessment</h1>
            <p style="color: white; font-weight: bold;">
                Discover your ideal career path through our comprehensive personality analysis.
                
            </p>
        </div>

        <div class="progress">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Question 1 of 12</div>
            </div>

            <div id="questionsContainer">
                <!-- Questions will be dynamically generated here -->
            </div>

            <div class="results-card" id="resultsCard">
                <div class="personality-type" id="personalityType">ENFP</div>
                <div class="personality-name" id="personalityName">The Innovator</div>
                <p id="personalityDescription">
                    You're creative, enthusiastic, and people-focused. You thrive in dynamic environments
                    where you can inspire others and bring new ideas to life.
                </p>

                <div class="personality-score">
                    <h3 style="margin-bottom: 1rem;">Your Personality Breakdown</h3>
                    <div class="score-grid" id="scoreGrid"></div>
                </div>

                <div class="career-suggestions">
                    <h3>Recommended Career Paths with Match Percentages</h3>
                    <div class="career-list" id="careerList"></div>
                </div>

                <button class="btn restart-btn" onclick="restartTest()">Take Test Again</button>
            </div>
        </div>
    </main>

    <!-- Footer Section -->
   <div class="Abovefooter">
  <div class="footer-about">
    <h3>About Us</h3>
    <p>
      PathFinder is your trusted career guide, helping students and professionals
      discover opportunities, assess skills, and get inspired for the future.
    </p>
  </div>

 
  <div class="footer-links">
    <h3>Quick Links</h3>
    <ul>
      <li><a href="test.html">Career Assessment</a></li>
      <li><a href="explorer.html">Career Explorer</a></li>
      <li><a href="blogs.html">Blogs & Articles</a></li>
      <li><a href="inspiration.html">Inspiration Hub</a></li>
      <li><a href="PersonalityTest.html">Personality Test</a></li>
      <li><a href="resume.html">Resume Builder</a></li>
    </ul>
  </div>

  <div class="footer-contact">
    <h3>Contact</h3>
    <p>Email: support@pathfinder.com</p><br>
    <p>Phone: +92 300 1234567</p>
    <div class="socials">
      <a href="#"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="#"><i class="fab fa-linkedin-in"></i></a>
    </div>
  </div>
</div>
<footer>
    <p> &copy; 2025 PathFinder. All rights reserved.</p>
</footer>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const currentUser = JSON.parse(localStorage.getItem('pathfinder_current_user') || 'null');

    if (!currentUser) {
        window.location.href = 'index.html';
        return;
    }

    // Load user data
    loadUserData(currentUser);
    setupProfileDropdown();
});

function loadUserData(user) {
    // Update user info in dropdown
    document.getElementById('userName').textContent = `${user.firstName} ${user.lastName}`;
    document.getElementById('userEmail').textContent = user.email;

    // Update welcome banner (use your correct ID)
    const welcomeUser = document.getElementById('WelcomeUserName');
    if (welcomeUser) welcomeUser.textContent = user.firstName;
}

function setupProfileDropdown() {
    const profileBtn = document.getElementById('profileBtn');
    const dropdownMenu = document.getElementById('dropdownMenu2');
    const logoutBtn = document.getElementById('logoutBtn');
    const switchAccountBtn = document.getElementById('switchAccountBtn');

    if (!profileBtn || !dropdownMenu) return;

    // Toggle dropdown on click
    profileBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        dropdownMenu.classList.toggle('show');
    });

    // Prevent dropdown from closing when clicked inside
    dropdownMenu.addEventListener('click', function(e) {
        e.stopPropagation();
    });

    // Close when clicking outside
    document.addEventListener('click', function() {
        dropdownMenu.classList.remove('show');
    });

    // Logout functionality
    if (logoutBtn) logoutBtn.addEventListener('click', logout);
    if (switchAccountBtn) switchAccountBtn.addEventListener('click', logout);
}

function logout() {
    // localStorage.removeItem('pathfinder_current_user');

    const logoutDiv = document.createElement('div');
    logoutDiv.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, var(--color-emerald-green), var(--color-teal-accent));
        color: white;
        padding: 16px 24px;
        border-radius: 12px;
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        z-index: 1001;
        font-weight: 600;
    `;
    logoutDiv.textContent = 'Logged out successfully! ðŸ‘‹';
    document.body.appendChild(logoutDiv);

    setTimeout(() => {
        logoutDiv.remove();
        window.location.href = 'index.html';
    }, 1500);
}
</script>
<script>
        
//dropdown menu in header
// script.js â€” safe and defensive
document.addEventListener('DOMContentLoaded', () => {
  // --- element picks (may be null if you don't include them; code will not crash) ---
  const dropdownToggle = document.getElementById('dropdownToggle'); // Services toggle
  const dropdownMenu = document.getElementById('dropdownMenu');

  const themesToggle = document.getElementById('themesToggle'); // Theme toggle in header
  const themesMenu = document.getElementById('themesMenu');

  const textSizeToggle = document.getElementById('textSizeToggle'); // optional "A" icon
  const themeOptions = document.querySelectorAll('[data-theme]'); // items with data-theme="dark" etc
  const sizeOptions = document.querySelectorAll('[data-size]'); // optional fine-grain sizes

  const aboutBtn = document.querySelector('.AboutUs'); // optional
  const contactBtn = document.querySelector('.ContactUs'); // optional

  // helper: close both menus
  function closeAllMenus() {
    if (dropdownMenu) dropdownMenu.classList.remove('show');
    if (themesMenu) themesMenu.classList.remove('show');
  }

  // Toggle helpers (guarded)
  if (dropdownToggle && dropdownMenu) {
    dropdownToggle.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();            // prevents immediate document click handler
      dropdownMenu.classList.toggle('show');
      if (themesMenu) themesMenu.classList.remove('show');
    });
  }

  if (themesToggle && themesMenu) {
    themesToggle.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      themesMenu.classList.toggle('show');
      if (dropdownMenu) dropdownMenu.classList.remove('show');
    });
  }

  // Click outside -> close menus
  document.addEventListener('click', (e) => {
    const clicked = e.target;
    if (dropdownMenu && dropdownToggle) {
      if (!dropdownMenu.contains(clicked) && !dropdownToggle.contains(clicked)) {
        dropdownMenu.classList.remove('show');
      }
    }
    if (themesMenu && themesToggle) {
      if (!themesMenu.contains(clicked) && !themesToggle.contains(clicked)) {
        themesMenu.classList.remove('show');
      }
    }
  });

  // Escape key closes menus
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') closeAllMenus();
  });

  // --- Theme switching & persistence ---
  // accepted theme names should match your CSS classes:
  // e.g. for data-theme="dark" you should have `.dark-theme { ... }` in CSS
  if (themeOptions.length) {
    themeOptions.forEach(opt => {
      opt.addEventListener('click', (e) => {
        e.preventDefault();
        const selected = opt.getAttribute('data-theme') || 'light';

        // remove known theme classes (adjust if you have different names)
        document.body.classList.remove('dark-theme', 'invert-theme', 'reading-theme');

        if (selected !== 'light') {
          document.body.classList.add(`${selected}-theme`);
        }

        localStorage.setItem('pathfinder-theme', selected);
        if (themesMenu) themesMenu.classList.remove('show');
      });
    });
  }

  // load saved theme
  const savedTheme = localStorage.getItem('pathfinder-theme') || 'light';
  if (savedTheme && savedTheme !== 'light') {
    document.body.classList.add(`${savedTheme}-theme`);
  }

  // --- Font size control (two approaches supported) ---
  // 1) Cycle button (textSizeToggle) cycles through sizes array
  const sizes = ['0.95rem', '1rem', '1.1rem', '1.2rem']; // tweak as you like
  let sizeIndex = Number(localStorage.getItem('pathfinder-font-index')) || 1;

  function applySize(idx) {
    document.documentElement.style.fontSize = sizes[idx];
    localStorage.setItem('pathfinder-font-index', idx);
  }
  applySize(sizeIndex);

  if (textSizeToggle) {
    textSizeToggle.addEventListener('click', (e) => {
      e.preventDefault();
      sizeIndex = (sizeIndex + 1) % sizes.length;
      applySize(sizeIndex);
    });
  }

  // 2) If you prefer explicit size options (e.g. dropdown items with data-size),
  // they should have attributes like data-size="16px" or data-size-index="2"
  if (sizeOptions.length) {
    sizeOptions.forEach(opt => {
      opt.addEventListener('click', (e) => {
        e.preventDefault();
        const idx = opt.getAttribute('data-size-index');
        const val = opt.getAttribute('data-size');
        if (idx !== null) {
          sizeIndex = Number(idx);
          applySize(sizeIndex);
        } else if (val) {
          document.documentElement.style.fontSize = val;
          localStorage.setItem('pathfinder-font-index', 'custom');
        }
        if (themesMenu) themesMenu.classList.remove('show');
        if (dropdownMenu) dropdownMenu.classList.remove('show');
      });
    });
  }

  // --- optional nav buttons ---
  if (aboutBtn) {
    aboutBtn.addEventListener('click', (e) => {
      e.preventDefault();
      window.open('about.html', '_blank', 'noopener,noreferrer');
    });
  }
  if (contactBtn) {
    contactBtn.addEventListener('click', (e) => {
      e.preventDefault();
      window.open('contact.html', '_blank', 'noopener,noreferrer');
    });
  }

  // debug: (remove in production) shows which key elements exist
  console.info('pathfinder: dropdownToggle=', !!dropdownToggle, 'dropdownMenu=', !!dropdownMenu,
               'themesToggle=', !!themesToggle, 'themesMenu=', !!themesMenu,
               'textSizeToggle=', !!textSizeToggle);
});

</script>
</body>
</html>